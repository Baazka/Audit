@model Audit.Models.SystemUser

<div class="modal fade" id="UserCodeModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="exampleModalLabel">Нууц үг солих</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" style="color:#fff;">x</span></button>
            </div>
            <div class="modal-body">
                @using (Ajax.BeginForm("UserCodeChange", "Home", new { Area = "" },
                   new AjaxOptions
                   {
                       UpdateTargetId = "usercodemodalcontainer",
                       OnBegin = "Modal.show()",
                       OnComplete = "Modal.hide(); $('#UserCodeModal').modal({ show: true }); $('.modal-backdrop:first').remove()",
                       OnSuccess = "User.processResponse(data, status, xhr)",
                       OnFailure = "errorResponse",
                       HttpMethod = "Post",
                       InsertionMode = InsertionMode.Replace
                   },
                   new { @class = "form-horizontal", @autocomplete = "off" }))
                {
                    <div class="hidden text-danger error-msgs">
                        <ul></ul>
                    </div>
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="form-group">
                        @Html.LabelFor(m => m.UserOldPassword)
                        @Html.EditorFor(m => m.UserOldPassword, new { htmlAttributes = new { @class = "form-control form-control-sm" } })
                        @Html.ValidationMessageFor(m => m.UserOldPassword, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.UserPassword)
                        @Html.EditorFor(m => m.UserPassword, new { htmlAttributes = new { @class = "form-control form-control-sm" } })
                        @Html.ValidationMessageFor(m => m.UserPassword, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.UserPasswordConfirm)
                        @Html.EditorFor(m => m.UserPasswordConfirm, new { htmlAttributes = new { @class = "form-control form-control-sm" } })
                        @Html.ValidationMessageFor(m => m.UserPasswordConfirm, "", new { @class = "text-danger" })
                    </div>
                    <hr />
                    <div style="text-align: right">
                        <button type="submit" class="btn btn-sm" style="background-color:#233772; color:#fff;">Солих</button>
                        <button type="button" class="btn btn-sm btn-default bg-secondary text-white" data-dismiss="modal">Хаах</button>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

